---
id: i18n
title: Internationalization (i18n)
sidebar_label: i18n
sidebar_position: 2
description: Multi-language support with react-i18next
keywords: [i18n, internationalization, translation, localization]
---

# Internationalization (i18n) Guide

This project uses **react-i18next** for internationalization with English (en) and Vietnamese (vi) support.

## Features

- Auto-detect browser language
- Persistent language preference (localStorage)
- Type-safe translation keys with TypeScript
- Easy language switching via UI component
- Organized translation structure by domain

## Project Structure

```
src/
├── lib/
│   └── i18n.ts                      # i18n configuration
├── providers/
│   └── i18n-provider.tsx            # i18n React provider
├── locales/
│   ├── en/                          # English translations
│   │   ├── common.json
│   │   ├── buttons.json
│   │   ├── fields.json
│   │   ├── messages.json
│   │   ├── modals.json
│   │   ├── dialogs.json
│   │   └── pages.json
│   └── vi/                          # Vietnamese translations
│       └── (same structure)
├── hooks/
│   └── use-language.ts              # Language switching hook
└── components/
    └── molecules/
        └── language-switcher.tsx    # Language picker component
```

## Translation Namespaces

### 1. common.json - General text
```json
{
  "appName": "IDICO CRM",
  "loading": "Loading...",
  "error": "An error occurred"
}
```

### 2. buttons.json - Button labels
```json
{
  "save": "Save",
  "cancel": "Cancel",
  "submit": "Submit"
}
```

### 3. fields.json - Form fields
```json
{
  "email": {
    "label": "Email",
    "placeholder": "Enter your email",
    "errors": {
      "required": "Email is required",
      "invalid": "Invalid email"
    }
  }
}
```

### 4. messages.json - System messages
```json
{
  "success": {
    "saved": "Saved successfully"
  },
  "error": {
    "general": "Something went wrong"
  }
}
```

### 5. pages.json - Page-specific
```json
{
  "home": {
    "title": "Welcome",
    "subtitle": "Get started"
  }
}
```

## Usage Examples

### Basic Usage

```tsx
import { useTranslation } from 'react-i18next';

function MyComponent() {
  const { t } = useTranslation();

  return (
    <div>
      {/* From common namespace (default) */}
      <div>{t('loading')}</div>

      {/* From buttons namespace */}
      <button>{t('save', { ns: 'buttons' })}</button>

      {/* From fields namespace */}
      <label>{t('email.label', { ns: 'fields' })}</label>

      {/* From pages namespace */}
      <h1>{t('home.title', { ns: 'pages' })}</h1>
    </div>
  );
}
```

### Form Example

```tsx
function LoginForm() {
  const { t } = useTranslation();

  return (
    <form>
      <label>{t('email.label', { ns: 'fields' })}</label>
      <input
        type="email"
        placeholder={t('email.placeholder', { ns: 'fields' })}
      />
      <span className="error">
        {t('email.errors.required', { ns: 'fields' })}
      </span>

      <button type="submit">
        {t('signIn', { ns: 'buttons' })}
      </button>
    </form>
  );
}
```

## Language Switching

### Using the useLanguage Hook

```tsx
import { useLanguage } from '@/hooks/use-language';

function LanguageSelector() {
  const { currentLanguage, changeLanguage, supportedLanguages } = useLanguage();

  return (
    <select
      value={currentLanguage}
      onChange={(e) => changeLanguage(e.target.value)}
    >
      {supportedLanguages.map((lang) => (
        <option key={lang.code} value={lang.code}>
          {lang.flag} {lang.nativeName}
        </option>
      ))}
    </select>
  );
}
```

### Using the LanguageSwitcher Component

```tsx
import { LanguageSwitcher } from '@/components/molecules/language-switcher';

function Header() {
  return (
    <header>
      <LanguageSwitcher variant="outline" />
    </header>
  );
}
```

## Adding New Translations

### Add to Existing Namespace

**src/locales/en/buttons.json:**
```json
{
  "save": "Save",
  "cancel": "Cancel",
  "export": "Export"     // Add new
}
```

**src/locales/vi/buttons.json:**
```json
{
  "save": "Lưu",
  "cancel": "Hủy",
  "export": "Xuất"       // Add Vietnamese
}
```

## Adding a New Language

### 1. Add Language Constant

```typescript
// src/constants/languages.ts
export const LANGUAGES = {
  EN: 'en',
  VI: 'vi',
  FR: 'fr', // Add new
} as const;
```

### 2. Create Translation Files

Create all namespace files in `src/locales/fr/`.

### 3. Register in i18n Config

```typescript
// src/lib/i18n.ts
import frCommon from '@/locales/fr/common.json';

const resources = {
  en: { /* ... */ },
  vi: { /* ... */ },
  fr: {
    common: frCommon,
    // ... other namespaces
  },
};
```

## Best Practices

1. **Choose the Right Namespace**
   - `buttons.json` → All button text
   - `fields.json` → Form labels, placeholders, errors
   - `messages.json` → Toast messages, notifications
   - `pages.json` → Page-specific content

2. **Use Descriptive Keys**
   ```json
   // Good
   { "email": { "label": "Email", "errors": { "required": "Required" } } }

   // Bad
   { "field1": "Email", "error1": "Required" }
   ```

3. **Keep Structure Consistent** across all language files

4. **Avoid Hardcoded Strings**
   ```tsx
   // Bad
   <button>Save</button>

   // Good
   <button>{t('save', { ns: 'buttons' })}</button>
   ```
